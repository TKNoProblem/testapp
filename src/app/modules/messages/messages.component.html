<button mat-button (click)="openAddMessageModal()">Add message</button>
<div *ngIf="loading" class="flex justify-content-center">
  <mat-spinner></mat-spinner>
</div>
<mat-card class="card" *ngFor="let message of (messages | page : pageIndex : perPage); trackBy: trackByFn">
  <mat-card-header>
    <mat-card-title>To: {{message.to}}</mat-card-title>
    <mat-card-subtitle>{{message.date | date: 'HH:mm:ss dd/MM/YYYY'}}</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    Message: <p>{{message.message}}</p>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button (click)="openEditMessageModal(message)">Edit</button>
    <button mat-button (click)="deleteMessage(message.id!)">Delete</button>
  </mat-card-actions>
</mat-card>
<mat-paginator *ngIf="messages.length>perPage" [length]="messages.length"
               [pageSize]="perPage"
               (page)="changePage($event)"
               aria-label="Select page">
</mat-paginator>
